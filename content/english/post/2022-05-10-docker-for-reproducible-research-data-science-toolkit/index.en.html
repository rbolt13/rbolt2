---
title: Docker for reproducible research - Data Science Toolkit
author: Randi Bolt
date: '2022-05-10'
slug: []
categories:
  - undergrad
tags:
  - docker
---



<p>These are my notes on <em>Docker for reproducible research</em> from <a href="https://benkeser.github.io/info550/">Data Science Toolkit</a>, by David Benkeser.</p>
<p><a href="https://benkeser.github.io/info550/recordings/docker-for-reproducible-research">Video</a> | <a href="https://benkeser.github.io/info550/lectures/11_docker/docker.html#1">Notes</a> | <a href="https://github.com/benkeser/info550/tree/master/lectures/11_docker">Github</a></p>
<div id="part-1-000---3250" class="section level1">
<h1>Part 1 (0:00 - 32:50)</h1>
<div id="pre-lecture-question" class="section level2">
<h2>Pre-lecture Question</h2>
<p>Q: Can we review project organization?</p>
<div id="phony-data-analysis" class="section level3">
<h3>Phony data analysis</h3>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Create and Open Project then Create Folders}}\)</span></li>
</ol>
<p>In the terminal:</p>
<ul>
<li><p>mkdir example_project_2 <span class="math inline">\(\quad\quad\quad\text{: make  directory }\)</span></p></li>
<li><p>subl example_project_2 <span class="math inline">\(\quad\quad\quad\quad\text{: open in sublime }\)</span></p></li>
</ul>
<p>Then in a terminal in sublime create some folders:</p>
<ul>
<li><p>mkdir code <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\text{: make  directory }\)</span></p></li>
<li><p>mkdir raw data <span class="math inline">\(\quad\quad\quad\quad\quad\quad\text{: make directory }\)</span></p></li>
<li><p>mkdir clean data <span class="math inline">\(\quad\quad\quad\quad\quad\quad\text{: make  directory }\)</span></p></li>
<li><p>mkdir output <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\text{: make  directory }\)</span></p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Save Raw Data}}\)</span></li>
</ol>
<p>In the terminal:</p>
<ul>
<li><p>R <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\text{: open R }\)</span></p></li>
<li><p>data(mtcars) <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\text{: load mtcars data set }\)</span></p></li>
<li><p>head(mtcars) <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\text{: show head of mtcars }\)</span></p></li>
<li><p>getwd() <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\quad\quad\text{: get working directory }\)</span></p></li>
<li><p>saveRDS(mtcars, “raw_data/mtcars.rds”) <span class="math inline">\(\quad\text{: save as .rds file}\)</span></p></li>
<li><p>saveRDS(mtcars, “raw_data/mtcars.RData”) <span class="math inline">\(\quad\text{: save as .RData file}\)</span></p></li>
<li><p>q() <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\text{: quit R }\)</span></p></li>
<li><p>y <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\text{: agree to quit }\)</span></p></li>
<li><p>rm raw_data/mtcars.RData <span class="math inline">\(\quad\quad\text{: remove data from folder}\)</span></p></li>
</ul>
<p>Note that <code>.Rds</code> is preferred.</p>
<ol start="3" style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Create Clean Data File}}\)</span></li>
</ol>
<p>[command] [N] : to create a new file.</p>
<p>Then save that file in the code directory as “clean_data.R” with the following code:</p>
<p><img src="img/clean_data_file_img.png" /></p>
<p>Note the 3 different places the here package is used.</p>
<ol start="4" style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Create Makefile}}\)</span></li>
</ol>
<p>[command] [N] : to create a new file.</p>
<p>Then save that file in the project directory as “Makefile” with the following code:</p>
<p><img src="img/make_file_img.png" /></p>
<p>In the terminal:</p>
<ul>
<li><p>make clean_data/mtcars_cleaned.rds</p></li>
<li><p>Rscript code/clean_data.R</p></li>
</ul>
<p>Verify data is in clean_data folder</p>
<ol start="5" style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Create make table file}}\)</span></li>
</ol>
<p>[command] [N] : to create a new file.</p>
<p>Then save that file in the code folder as “make_table.R” with the following code:</p>
<p><img src="img/make_table_img.png" /></p>
<ol start="6" style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Update Makefile}}\)</span></li>
</ol>
<p>Now update the Makefile with the following:</p>
<p><img src="img/update_make_file_img.png" /></p>
<p>In the terminal:</p>
<ul>
<li>make output/data_for_table.rds</li>
</ul>
<p>Verify contents in output folder.</p>
<ol start="7" style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Create report.Rmd}}\)</span></li>
</ol>
<p>[command] [N] : to create a new file.</p>
<p>Then save that file in the project directory as “report.Rmd” with the following code:</p>
<p><img src="img/rmd_img.png" /></p>
<ol start="8" style="list-style-type: decimal">
<li><span class="math inline">\(\underline{\text{Update Makefile}}\)</span></li>
</ol>
<p>Update the Makefile with the following:</p>
<p><img src="img/update2_make_file_img.png" /></p>
<p>In the terminal:</p>
<ul>
<li><p>make report.html</p></li>
<li><p>open report.html</p></li>
</ul>
</div>
</div>
<div id="pre-lecture-question-2" class="section level2">
<h2>Pre-lecture Question (2)</h2>
<p>Q: why doesn’t git / github recognize empty folders?</p>
<p>A: git doesn’t care about empty folders in directory.</p>
<div id="make-github-aware-of-empty-folder" class="section level3">
<h3>Make Github aware of empty folder</h3>
<p>In terminal</p>
<ul>
<li><p>rm output/* <span class="math inline">\(\quad\quad\quad\quad\text{: remove everything in output folder}\)</span></p></li>
<li><p>gitinit <span class="math inline">\(\quad\quad\quad\quad\quad\quad\text{: initilize git}\)</span></p></li>
<li><p>git status <span class="math inline">\(\quad\quad\quad\quad\quad\text{: status}\)</span></p></li>
</ul>
<p>Notice the output folder isn’t included.</p>
<ul>
<li><p>cd output <span class="math inline">\(\quad\quad\quad\quad\quad\text{: change to output directory}\)</span></p></li>
<li><p>touch .gitkeep <span class="math inline">\(\quad\quad\quad\text{: add empty file}\)</span></p></li>
<li><p>ls -a <span class="math inline">\(\quad\quad\quad\quad\quad\quad\text{: list all files}\)</span></p></li>
<li><p>cd .. <span class="math inline">\(\quad\quad\quad\quad\quad\quad\text{: change directory up one level}\)</span></p></li>
<li><p>gitstatus <span class="math inline">\(\quad\quad\quad\quad\quad\text{: status}\)</span></p></li>
</ul>
<p>Now the output folder is visible.</p>
</div>
</div>
</div>
<div id="part-2-docker-3300---13045" class="section level1">
<h1>Part 2: Docker (33:00 - 1:30:45)</h1>
<p>The problem: there are things on your computer that have nothing to do with R that R depends on. R wont help you track those dependencies. Renv only helps make sure R packages are up to date.</p>
<p>You can download R code from github, but that doesn’t mean you can run it.</p>
<div id="key-principle-software-is-code" class="section level3">
<h3>Key Principle: <span style="color: red;">Software is Code!</span></h3>
<ul>
<li><p>running code requires software</p></li>
<li><p>we want a way to package up all analysis and code AND software</p></li>
</ul>
<p>Containerization gives us a way to do this.</p>
<ul>
<li>Docker is a popular containerization program</li>
</ul>
<p>Think of a Docker container as a virtual machine:</p>
<ul>
<li><p>Hos its own (Unix) operating system</p></li>
<li><p>Has its own file system</p></li>
<li><p>Has its own software application</p></li>
</ul>
<p>(A computer within a computer)</p>
</div>
<div id="images-vs.-containers" class="section level3">
<h3>Images Vs. Containers</h3>
<p>Docker image:</p>
<ul>
<li><p>source code, libraries, dependencies, tools, and other files needed to run a container.</p></li>
<li><p>a blueprint for the enviroment in which you will execute your analysis</p></li>
</ul>
<p>Docker container:</p>
<ul>
<li><p>created when we run an image</p></li>
<li><p>contruct a run-time enviroment to execute your code</p></li>
<li><p>or provide an interactive way to excecute code.</p></li>
</ul>
</div>
<div id="how-does-it-work" class="section level3">
<h3>How does it work?</h3>
<ul>
<li><p>Docker installed program.</p></li>
<li><p>Write a Dockerfile, plain text that tells Docker what to put in image.</p></li>
<li><p>build the image</p></li>
<li><p>run the image (creating container) to execute code.</p></li>
</ul>
</div>
<div id="interactive-ubuntu-container" class="section level2">
<h2>Interactive Ubuntu container</h2>
<p>In the terminal:</p>
<ul>
<li>docker pull ubuntu <span class="math inline">\(\quad\quad\quad\text{: this is downloading an image from the internet}\)</span></li>
</ul>
<p>This is installing an empty ubuntu operating system.</p>
<p>If you have issues with this step check out this stack overflow link <a href="https://stackoverflow.com/questions/52698748/connection-refused-on-pushing-a-docker-image">here</a> or <a href="https://stackoverflow.com/questions/2333400/what-can-be-the-reasons-of-connection-refused-errors">here</a>.</p>
<ul>
<li>docker run -it ubuntu /bin/bash <span class="math inline">\(\quad\text{: puts you inside interactive (-it) ubuntu operating system}\)</span></li>
</ul>
<p>In a different terminal on your computer:</p>
<ul>
<li>docker container ps <span class="math inline">\(\quad\text{: prints all the containers you have running}\)</span></li>
</ul>
<p>Back inside docker terminal:</p>
<ul>
<li><p>touch my_file_in_my_container <span class="math inline">\(\quad\quad\text{: add file to container}\)</span></p></li>
<li><p>exit <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\quad\quad\text{: container stops running}\)</span></p></li>
<li><p>docker container ps <span class="math inline">\(\quad\quad\quad\quad\text{: see the docker container no longer exists}\)</span></p></li>
<li><p>docker run -it ubuntu /bin/bash <span class="math inline">\(\quad\quad\text{: start a docker container}\)</span></p></li>
</ul>
<p>Notice this is a different container, and the file that was created no longer exists.</p>
<p><strong>Containers are transient!</strong></p>
<ul>
<li>exit <span class="math inline">\(\quad\quad\quad\quad\quad\quad\quad\quad\quad\text{: exit container}\)</span></li>
</ul>
<div id="adding-a-text-editor-to-a-docker-file" class="section level3">
<h3>Adding a text editor to a docker file</h3>
<p>In the terminal:</p>
<ul>
<li><p>mkdir docker_ex <span class="math inline">\(\quad\quad \text{: created docker_ex directory}\)</span></p></li>
<li><p>subl docker_ex <span class="math inline">\(\quad\quad\text{: open in sublime}\)</span></p></li>
</ul>
<p>[command] [s] : save file as “Dockerfile”</p>
<p><img src="img/dockerfile_img01.png" /></p>
<ul>
<li><p><strong>FROM</strong> : gives a starting point at the ubuntu operating system.</p></li>
<li><p>apt-get: is a package management system in ubuntu</p></li>
<li><p>update: make sure apt-get is up to date</p></li>
<li><p>install vim: installs the text editor vim</p></li>
<li><p><strong>Run</strong>: Docker syntax that tells it to run those two commands from the ubuntu operating system.</p></li>
</ul>
<p>Now back in the terminal:</p>
<ul>
<li><p>cd docker_example/</p></li>
<li><p>ls</p></li>
<li><p>docker build -t ubuntu_plus_vim . <span class="math inline">\(\quad\quad\text{build docker file from current directory (thats what &quot;.&quot; means)}\)</span></p></li>
</ul>
<p>Docker is angery because we aren’t inside the container to hit yes.</p>
<p>Fix: add “-y” to code (line 7) that says yes:</p>
<p><img src="img/dockerfile_img_02.png" /></p>
<p>Now that it works lets run it.</p>
<ul>
<li><p>docker run -it ubuntu_plus_vim /bin/bash <span class="math inline">\(\quad\quad\text{: open up ubunto with vim that we just created}\)</span></p></li>
<li><p>vim <span class="math inline">\(\quad\quad\text{opens text editor for editing}\)</span></p></li>
<li><p>:q <span class="math inline">\(\quad\quad\quad\text{to quit vim}\)</span></p></li>
</ul>
<p>If you need to put a special piece of software inside a container you would google “how to install ____ on ubuntu”, because that is being installed.</p>
</div>
</div>
<div id="dockerfile" class="section level2">
<h2>Dockerfile</h2>
<p><img src="img/dockerfile_instructions.png" /></p>
<div id="copy-example" class="section level4">
<h4>COPY Example</h4>
<p>create a new hello world file.</p>
<p>Now add the following line to your dockerfile:</p>
<p>COPY hello_world.txt home/hello_wolrd.txt</p>
<p>In the sublime terminal:</p>
<ul>
<li><p>docker build -t ubuntu_plus_vim_plus_helloworld .</p></li>
<li><p>docker run -it ubuntu_plus_vim_plus_helloworld</p></li>
<li><p>ls</p></li>
<li><p>cd home</p></li>
<li><p>ls</p></li>
<li><p>cat hello_world.txt</p></li>
<li><p>exit</p></li>
</ul>
<p>This will be useful so that we can copy our code into the container.</p>
</div>
<div id="workdir" class="section level4">
<h4>WORKDIR</h4>
<p>Sets the working directory for all of your commands.</p>
<p>Reason: We don’t always know what the directories are within docker (like home in the previous example), so we want docker to the directory where our project lives.</p>
<p>Update Dockerfile with the following:</p>
<p><img src="img/dockerfile_img_03.png" /></p>
<p>In the terminal:</p>
<ul>
<li><p>docker build -t try_workdir .</p></li>
<li><p>docker run -it try_workdir /bin/bash</p></li>
</ul>
<p>Notice that we start out in the analysis_directory, and inside the directory is hello_world.txt.</p>
<ul>
<li>exit</li>
</ul>
</div>
<div id="cmd" class="section level4">
<h4>CMD</h4>
<p>Continers entry point: what is the container going to do by defualt?</p>
<p>Use cases:</p>
<ul>
<li><p>interactively run bash: CMD /bin/bash</p></li>
<li><p>open R: CMD [“R”]</p></li>
<li><p>run whole analysis and produce report: CMD Rscript -e “rmarkdown::render(…)”</p></li>
</ul>
</div>
<div id="breakout-exercise-1" class="section level3">
<h3>Breakout Exercise 1:</h3>
<p>Inside docker_ex directory:</p>
<p>In the terminal:</p>
<ul>
<li><p>echo “This file is silly” &gt; silly_file.txt</p></li>
<li><p>subl</p></li>
</ul>
<p>Create and save the following Dockerfile within the same directory as newimgage.Dockerfile:</p>
<p><img src="img/img4.png" /></p>
<p>Then in the terminal:</p>
<ul>
<li><p>docker build -t br1 –file newimage.Dockerfile .</p></li>
<li><p>docker run br1</p></li>
</ul>
<p>(should print message: Hello from your computer)</p>
<ul>
<li><p>docker run -it br1 /bin/bash</p></li>
<li><p>ls</p></li>
<li><p>cat silly_file.txt</p></li>
<li><p>echo $my_variable</p></li>
<li><p>exit</p></li>
</ul>
</div>
</div>
</div>
<div id="part-3-13120---32440" class="section level1">
<h1>Part 3 (1:31:20 - 3:24:40)</h1>
<p>Make sure you have a Docker account and are logged in. Then in the terminal:</p>
<ul>
<li><p>docker pull rocker/rstudio</p></li>
<li><p>docker pull rocker/tidyverse</p></li>
</ul>
<div id="dockerhub" class="section level2">
<h2>DockerHub</h2>
<p>DockerHub is the Github for images. Many are free, some are not.
* <a href="https://hub.docker.com/_/ubuntu">Ubuntu</a></p>
<ul>
<li><p><a href="https://hub.docker.com/u/rocker/">R/Rstudio</a></p></li>
<li><p><a href="https://hub.docker.com/_/nginx">ngix</a></p></li>
<li><p><a href="https://hub.docker.com/search?q=&amp;type=image">many other</a></p></li>
</ul>
</div>
<div id="pushing-to-dockerhub" class="section level2">
<h2>Pushing to DockerHub</h2>
<p>Share images by building locally and using docker push. In the docer_ex directory:</p>
<ul>
<li><p>docker build -t user_name/test_repo .</p></li>
<li><p>docker push user_name/test_repo</p></li>
</ul>
<p>This should now be available on your DockerHub.</p>
<div id="viewing-removing-containers-images" class="section level3">
<h3>Viewing / removing containers / images</h3>
<p>docker container ps : list running containers, add -a to see all recently run containters.</p>
<p>docker images : list all downloaded images</p>
<p>docker image rm [id] : replace [id] with code from Imgae ID column of docker images</p>
<p>docker system prune : remove all unused images and containers. Add -a to remove everything</p>
<p>You can always download your containers through DockerHub, and dont need them on your computer all the time.</p>
</div>
</div>
<div id="rocker-images" class="section level2">
<h2>Rocker images</h2>
<p>R/Rstudio images are avaialbel from rocker</p>
<ul>
<li><p><a href="https://hub.docker.com/r/rocker/r-ubuntu">rocker/r-ubuntu:20.04</a></p></li>
<li><p><a href="https://hub.docker.com/r/rocker/rstudio">rocker/rstudio</a></p></li>
<li><p><a href="https://hub.docker.com/r/rocker/tidyverse">rocker/tidyverse</a></p></li>
</ul>
</div>
<div id="r-studio-images" class="section level2">
<h2>R Studio Images</h2>
<p>The entry for rocker/rstuido is to run R Studio server, a web browser interface to R Studio.</p>
<p>In the terminal:</p>
<ul>
<li>docker run -e PASSWORD=“s123” -p 8787:8787 rocker/rstudio</li>
</ul>
<p>Then open the following webpage in your web browser: <a href="http://localhost:8787" class="uri">http://localhost:8787</a></p>
<p>The default username: rstudio, and password: s123 (what you set before).</p>
<p>Now this rstudio is inside your docker, and you will have the same enviroment regardless of what computer you are using.</p>
<p>[CTL][C] : stops container from running.</p>
<p>Note: adding a -d will run the program in detached mode. It doesn’t care if you close terminal or window.</p>
<ul>
<li>docker run -e PASSWORD=“s123” -p 8787:8787 -d rocker/rstudio</li>
</ul>
<p>To kill:</p>
<ul>
<li>docker container kill ##container_id##</li>
</ul>
</div>
<div id="an-r-project-workflow" class="section level2">
<h2>An R Project Workflow</h2>
<p>Download the example_project folder, and then find in the terminal.</p>
<ul>
<li><p>cd example_project 2</p></li>
<li><p>docker build -t ex_proj .</p></li>
<li><p>subl .</p></li>
</ul>
<p>Look through the files, and read what is happening in the docker file.</p>
<ul>
<li><p>docker run -it ex_proj</p></li>
<li><p>cd project</p></li>
<li><p>ls</p></li>
<li><p>echo $which_fig</p></li>
<li><p>R</p></li>
<li><p>library(wesanderson)</p></li>
<li><p>?wesanderson</p></li>
<li><p>q()</p></li>
<li><p>exit</p></li>
<li><p>docker container ps <span class="math inline">\(\quad\quad\text{: verify container isn&#39;t running}\)</span></p></li>
</ul>
<div id="typical-workflow" class="section level4">
<h4>Typical Workflow:</h4>
<ul>
<li><p>updating analysis code, running, …</p></li>
<li><p>tweak figures, compile report</p></li>
</ul>
</div>
<div id="docker-workflows-slightly-more-complicated" class="section level4">
<h4>Docker Workflows (slightly more complicated)</h4>
<ul>
<li><p>different R version/packages between container and local?</p></li>
<li><p>update code locally, rebuild image, run code in container, …</p></li>
<li><p>tweak figures locally, rebuild image, compile report in container,…</p></li>
</ul>
</div>
</div>
<div id="mounted-directories" class="section level2">
<h2>Mounted Directories</h2>
<p>We can write code and have changes appear instantly inside a running container by using the -v option to docker run</p>
<ul>
<li><p>“Mounts” a local directory to a directory in the container.</p></li>
<li><p>i.e. directory on local computer appears in container.</p></li>
</ul>
<p>For example: on local computer, project directory is at /path/to/project. In container, project direcotry is /project/</p>
<p>In terminal:</p>
<p>(example)</p>
<ul>
<li>docker run -v /path/to/project/R:/project/R -it ex_proj <span class="math inline">\(\quad\quad\text{: connect path of project/R on computer to path of project/R in container}\)</span></li>
</ul>
<p>(mine)</p>
<ul>
<li><p>docker run -v ~/Desktop/2022/example_project 2/R:/project/R -it ex_proj</p></li>
<li><p>ls</p></li>
<li><p>cd project</p></li>
<li><p>cd R</p></li>
<li><p>cat make_barchart.R</p></li>
</ul>
<p>On local computer change the contents of make_barchart.R, by adding a new comment.</p>
<ul>
<li>cat make_barchart.R <span class="math inline">\(\quad\quad\quad\text{: concatonate code}\)</span></li>
</ul>
<p>Mounted directories are also useful for retrieving final output.</p>
<ul>
<li><p>cd .. <span class="math inline">\(\quad\quad\text{: move back into project folder}\)</span></p></li>
<li><p>make report.html <span class="math inline">\(\quad\quad\text{: creates .html file in project}\)</span></p></li>
</ul>
<div id="output-folder" class="section level3">
<h3>Output folder</h3>
<p>Create one output folder that has anything you want the user to retrieve. Then instruct the user that if they want to retrieve the output from this container that they need to mount a local directory to this output folder.</p>
</div>
<div id="enviroment-variables" class="section level3">
<h3>Enviroment variables</h3>
<p>A useful way to control the run-time behavior of docker containers is to set environment variables at runtime.</p>
<p>Recall we set our environment variable to “gears_vs_cylindars”. However if we check the code for make_barchart.R we notice an ifelse state with if(which_fig = “gears_vs_cylinders”) … else if(which_fig = “gears_vs_carb”).</p>
<p>In the terminal, in ex_proj docker</p>
<ul>
<li><p>R <span class="math inline">\(\quad\text{: open R}\)</span></p></li>
<li><p>Sys.getenv(“which_figs”)</p></li>
<li><p>q() <span class="math inline">\(\quad\text{: quit R}\)</span></p></li>
<li><p>export some_other_variable=“hello!”</p></li>
<li><p>R <span class="math inline">\(\quad\text{: open R}\)</span></p></li>
<li><p>Sys.getenv(“some_other_variable”)</p></li>
<li><p>q() <span class="math inline">\(\quad\text{: quit R}\)</span></p></li>
<li><p>exit <span class="math inline">\(\quad\text{: close docker}\)</span></p></li>
</ul>
<p>We can overide this variable at runtime using <code>-e</code></p>
<p>In the terminal:</p>
<ul>
<li><p>docker run -e which_fig=“something_else” -e some_other_variable=“some_other_value” -it ex_proj</p></li>
<li><p>echo $which_fig</p></li>
<li><p>echo $some_other_variable</p></li>
<li><p>R</p></li>
<li><p>Sys.getenv(“some other variable”)</p></li>
<li><p>q()</p></li>
<li><p>exit</p></li>
</ul>
</div>
</div>
<div id="breakout-exercise-2" class="section level2">
<h2>Breakout Exercise 2</h2>
<ol style="list-style-type: decimal">
<li><p>Run the ex-proj container with the /project/ folder mounted to a local directory. Examine the report generated.</p></li>
<li><p>Look at example_project/R/make_barchart.R and Dockerfile to see how the ENV variable which_fig is used.</p></li>
<li><p>Re-run the container using option -e which_fig=“…” to produce a figure of gears vs. carb (replace … with the proper string).</p></li>
<li><p>Modify the Dockerfile to add a separate directory for the output to the container. Modify the Makefile to write the html report to this directory.</p></li>
<li><p>Re-build and re-run the container with a local directory mounted to your new output directory in the container.</p></li>
<li><p>Change the CMD command so that the entry point is to make the report.</p></li>
</ol>
</div>
</div>
